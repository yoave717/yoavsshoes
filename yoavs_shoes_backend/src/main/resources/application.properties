# ===============================
# APPLICATION CONFIGURATION
# ===============================
spring.application.name=shoe-store-backend
server.port=8080

# ===============================
# DATABASE CONFIGURATION
# ===============================
# PostgreSQL Configuration for Local Development
spring.datasource.url=jdbc:postgresql://localhost:5433/shoe_store_db
spring.datasource.username=postgres
spring.datasource.password=postgres
spring.datasource.driver-class-name=org.postgresql.Driver

# Connection Pool Settings
spring.datasource.hikari.maximum-pool-size=20
spring.datasource.hikari.minimum-idle=5
spring.datasource.hikari.idle-timeout=300000
spring.datasource.hikari.connection-timeout=20000

# ===============================
# JPA/HIBERNATE CONFIGURATION
# ===============================
# Show SQL queries in console (for development)
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true

# Database dialect
spring.jpa.database-platform=org.hibernate.dialect.PostgreSQLDialect

# Hibernate DDL auto (create-drop, create, update, validate, none)
    spring.jpa.hibernate.ddl-auto=update

# Naming strategy
spring.jpa.hibernate.naming.physical-strategy=org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl
spring.jpa.hibernate.naming.implicit-strategy=org.hibernate.boot.model.naming.ImplicitNamingStrategyLegacyJpaImpl

# ===============================
# DATABASE INITIALIZATION
# ===============================
# Enable SQL script execution
spring.sql.init.mode=never
spring.sql.init.schema-locations=classpath:schema.sql
spring.sql.init.data-locations=classpath:data.sql
spring.sql.init.continue-on-error=true
spring.jpa.defer-datasource-initialization=false

# ===============================
# SECURITY CONFIGURATION
# ===============================
# JWT Configuration (simplified for local development)
app.jwt.secret=localDevSecretKey123456789localDevSecretKey123456789
app.jwt.expiration=86400000
# JWT expiration time in milliseconds (24 hours = 86400000 ms)

# CORS Configuration for Local React Development
app.cors.allowed-origins=http://localhost:3000,http://localhost:3001,http://127.0.0.1:3000

# ===============================
# LOGGING CONFIGURATION
# ===============================
# Root logging level
logging.level.root=INFO

# Application specific logging
logging.level.com.shoestore=DEBUG

# Spring Security logging (for debugging auth issues)
logging.level.org.springframework.security=DEBUG

# Hibernate SQL logging
logging.level.org.hibernate.SQL=DEBUG
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE

# Web request logging
logging.level.org.springframework.web=INFO

# File logging configuration
logging.file.name=./logs/shoe-store.log
logging.file.max-size=10MB
logging.file.max-history=30
logging.pattern.file=%d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] %-5level %logger{36} [%X{requestId}] [%X{userId}] - %msg%n
logging.pattern.console=%d{HH:mm:ss.SSS} [%thread] %-5level %logger{36} [%X{requestId}] - %msg%n

# ===============================
# SWAGGER/OPENAPI CONFIGURATION
# ===============================
springdoc.api-docs.path=/v3/api-docs
springdoc.swagger-ui.path=/swagger-ui.html
springdoc.swagger-ui.enabled=true
springdoc.packages-to-scan=com.shoestore.controller
springdoc.default-consumes-media-type=application/json
springdoc.default-produces-media-type=application/json


# ===============================
# ACTUATOR CONFIGURATION
# ===============================
management.endpoints.web.exposure.include=health,info,metrics
management.endpoint.health.show-details=when-authorized
management.info.env.enabled=true

# ===============================
# ERROR HANDLING CONFIGURATION
# ===============================
# Include error details in response (for development)
server.error.include-message=always
server.error.include-binding-errors=always
server.error.include-stacktrace=on_param
server.error.include-exception=false

# Custom error path
server.error.path=/error

# Show full error details only in development
spring.mvc.throw-exception-if-no-handler-found=true
spring.web.resources.add-mappings=false